(this["webpackJsonpreact-pro"]=this["webpackJsonpreact-pro"]||[]).push([[0],{327:function(e,t,a){e.exports=a(665)},334:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){},549:function(e,t,a){},664:function(e,t,a){},665:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),l=a.n(o),s=a(19),i=a(18),c=a(21),u=a(20),m=a(22),p=a(43),d=a(78),h=(a(306),a(334),a(26)),b=(a(308),a(44)),f=a(120),g=a.n(f),y=a(674),v="";function E(e){y.a.error(e,1)}function O(e){y.a.success(e,1)}g.a.defaults.baseURL="http://101.200.87.1:2020/oa/",g.a.interceptors.request.use((function(e){var t,a;return t=t||"\u8bf7\u6c42\u4e2d....",a=a||1,v=sessionStorage.token?sessionStorage.token:"",e.headers.token=v,e}),(function(e){return Promise.reject(e)})),g.a.interceptors.response.use((function(e){return console.log(e),"3000"==e.data.code&&j.push("/login"),e.data.type?O(e.data.msg):0==e.data.type?E(e.data.msg):O(e.data.msg),e}),(function(e){return E("\u54cd\u5e94\u5931\u8d25,\u670d\u52a1\u5668\u5f02\u5e38"),Promise.reject(e)}));var S,j=new b.b,k=a(671),C=a(672),w=a(53),x=a(50),I=a.n(x);function D(e){var t,a,n;return I.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.url,a=e.params,console.log(a),r.next=4,I.a.awrap(g.a.post(t,a));case 4:return n=r.sent,console.log(n.data),1==n.data.type&&j.push("/login"),r.abrupt("return",{type:"register",payload:n});case 8:case"end":return r.stop()}}))}var L,A,_,F,B,q,M,N,T,P,J=Object(h.b)()(S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).checkmobile=function(e,t,a){t&&!/^1[3456789]\d{9}$/.test(t)&&"admin"!==t&&a("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),a()},a.checkMobile=function(e,t,a){t&&!/^[\w]{6,16}$/.test(t)&&a("\u8bf7\u8f93\u5165\u6570\u5b57\u5b57\u6bcd\u7ec4\u6210\u76846-16\u4f4d\u5bc6\u7801"),a()},a.handleSubmit=function(e){a.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),g.a.post("/login",{mobile:t.phone,password:t.password}).then((function(e){1==e.data.type&&(sessionStorage.token=e.data.token,sessionStorage.mobile=t.phone,sessionStorage.usertype=e.data.result.usertype,j.push("/home/info"))})))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"ltoplog"},r.a.createElement("img",{src:"https://oa.deepcam.cn/images/noface.png",alt:""})),r.a.createElement("div",{className:"content"},r.a.createElement(k.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(k.a.Item,{label:"\u624b\u673a\u53f7"},e("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u624b\u673a\u53f7"},{validator:this.checkmobile}]})(r.a.createElement(C.a,{style:{width:"100%"}}))),r.a.createElement(k.a.Item,{label:"\u5bc6\u7801",hasFeedback:!0},e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{validator:this.checkMobile}]})(r.a.createElement(C.a.Password,null))),r.a.createElement("div",null,r.a.createElement(w.a,{style:{background:"#1abc9c"},className:"btn",type:"primary",htmlType:"submit"},"\u767b\u5f55"),r.a.createElement(w.a,{className:"btn",type:"danger",style:{marginLeft:8},onClick:function(){return j.push("/signup")}},"\u6ce8\u518c"))))))}}]),t}(n.Component))||S,U=J=k.a.create()(J),G=(a(478),a(666)),V=a(667),z=null,K=Object(h.b)()(L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,count:60,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801",codeFlag:!0,toggle:!0},a.checkCode=function(e,t,a){t&&!/^[0-9]{4}$/.test(t)&&a("\u8bf7\u8f93\u5165\u6536\u5230\u7684\u9a8c\u8bc1\u7801"),a()},a.checkmobile=function(e,t,a){t&&!/^1[3456789]\d{9}$/.test(t)&&"admin"!==t&&a("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),a()},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("firstPassword")?n("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4"):t&&!/^[\w]{6,16}$/.test(t)?n("\u8bf7\u8f93\u5165\u6570\u5b57\u5b57\u6bcd\u7ec4\u6210\u76846-16\u4f4d\u5bc6\u7801"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty?r.validateFields(["password"],{force:!0}):t&&!/^[\w]{6,16}$/.test(t)&&n("\u8bf7\u8f93\u5165\u6570\u5b57\u5b57\u6bcd\u7ec4\u6210\u76846-16\u4f4d\u5bc6\u7801"),n()},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||a.props.dispatch(D({url:"/register",params:{mobile:t.phone,code:t.code,password:t.password}}))}))},a.start=function(){a.state.count>1?a.setState({count:--a.state.count,txt:"\u5269\u4f59 ".concat(a.state.count," \u79d2"),codeFlag:!1,toggle:!1}):(clearInterval(z),z=null,a.setState({count:60,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801",codeFlag:!0,toggle:!0}))},a.computedTime=function(){a.start(),z=setInterval(a.start,1e3)},a.hanleSendCode=function(){a.computedTime(),g.a.post("/aly/sendSms",{mobile:a.mobile.state.value}).then((function(e){}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"ltoplog"},r.a.createElement("img",{src:"https://oa.deepcam.cn/images/noface.png",alt:""})),r.a.createElement("div",{className:"content"},r.a.createElement(k.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(k.a.Item,{label:"\u624b\u673a\u53f7"},t("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u624b\u673a\u53f7"},{validator:this.checkmobile}]})(r.a.createElement(C.a,{ref:function(t){return e.mobile=t},style:{width:"100%"}}))),r.a.createElement(k.a.Item,{label:"\u9a8c\u8bc1\u7801"},r.a.createElement(G.a,{gutter:8},r.a.createElement(V.a,{span:12},t("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"},{validator:this.checkCode}]})(r.a.createElement(C.a,null))),r.a.createElement(V.a,{span:12},r.a.createElement(w.a,{disabled:!this.state.codeFlag,onClick:this.hanleSendCode,type:"primary",className:"btn"},this.state.txt)))),r.a.createElement(k.a.Item,{label:"\u5bc6\u7801"},t("firstPassword",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{validator:this.validateToNextPassword}]})(r.a.createElement(C.a.Password,null))),r.a.createElement(k.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801"},t("password",{rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801"},{validator:this.compareToFirstPassword}]})(r.a.createElement(C.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement("div",null,r.a.createElement(w.a,{className:"btn",type:"primary",htmlType:"submit"},"\u6ce8\u518c"),r.a.createElement(w.a,{className:"btn",type:"primary",style:{marginLeft:8},onClick:function(){return window.history.back()}},"\u8fd4\u56de")))))}}]),t}(n.Component))||L,H=K=k.a.create()(K),R=a(668),$=a(107),W=a(675),Q=a(10),X=a(160),Y=a(676),Z=a(70),ee=(a(479),a(673)),te=a(122),ae=a(670),ne=k.a.Item,re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getGroupList=function(){g.a.post("/getGroup").then((function(e){a.setState({groupList:e.data.result})}))},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||g.a.post("/updateUserInfo",{mobile:t.mobile,branch:t.groupSelect,sex:t.sex,post:t.post,name:t.name}).then((function(e){a.props.close()}))}))},a.state={groupList:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getGroupList();var e=this.props.setOne;this.props.form.setFieldsValue({groupSelect:e.branch,name:e.name,sex:e.sex,post:e.post,mobile:e.mobile+""})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return r.a.createElement(k.a,{onSubmit:this.handleSubmit},0!=sessionStorage.usertype?r.a.createElement(ne,Object.assign({label:"\u90e8\u95e8"},t),e("groupSelect",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u90e8\u95e8\u8d1f\u8d23\u4eba"}]})(r.a.createElement(te.a,{placeholder:"\u8bf7\u9009\u62e9\u90e8\u95e8"},this.state.groupList.length>0?this.state.groupList.map((function(e,t){return r.a.createElement(te.a.Option,{key:t,value:e._id},e.group_name)})):null))):"",r.a.createElement(ne,Object.assign({label:"\u59d3\u540d"},t),e("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d"},{validator:this.name}]})(r.a.createElement(C.a,{style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(ne,Object.assign({label:"\u6027\u522b"},t),e("sex",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6027\u522b"}]})(r.a.createElement(te.a,{placeholder:"\u8bf7\u9009\u62e9\u6027\u522b"},r.a.createElement(te.a.Option,{key:1,value:"man"},"man"),r.a.createElement(te.a.Option,{key:1,value:"women"},"women")))),r.a.createElement(ne,Object.assign({label:"\u804c\u4f4d"},t),e("post",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u804c\u4f4d"},{validator:this.post}]})(r.a.createElement(C.a,{style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(ne,Object.assign({label:"\u624b\u673a\u53f7"},t),e("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{validator:this.mobile}]})(r.a.createElement(C.a,{style:{width:200},disabled:!0,onBlur:this.handleConfirmBlur}))),r.a.createElement(ne,{wrapperCol:{span:12,offset:6}},r.a.createElement(w.a,{type:"primary",htmlType:"submit"}," \u63d0\u4ea4")))}}]),t}(n.Component),oe=re=k.a.create()(re),le=k.a.Item,se={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},ie=Object(h.b)((function(e){return console.log(e),Object(Z.a)({},e)}),(function(e){return{getUserInfo:function(t){return e(function(e){var t,a,n;return I.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.url,a=e.params,r.next=3,I.a.awrap(g.a.post(t,a));case 3:return n=r.sent,r.abrupt("return",{type:"getUserInfo",payload:n.data.result});case 5:case"end":return r.stop()}}))}(t))}}}))(A=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getData=function(){g.a.post("/getUserInfo",{mobile:sessionStorage.mobile}).then((function(t){var a=t.data.result;e.setState({list:a})}))},e.openCreateAccount=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({addVisible:!0})},e.closeCreateAccount=function(){e.setState({visible:!1},(function(){e.getData()}))},e.closeAddModal=function(){e.setState({addVisible:!1},(function(){e.getData()}))},e.getGroupList=function(){g.a.post("/getGroup").then((function(t){e.setState({groupList:t.data.result})}))},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(e,t){e||g.a.post("/userInfo",{mobile:t.mobile,branch:t.branch,sex:t.sex,post:t.post,name:t.name}).then((function(e){}))}))},e.state={visible:!1,addVisible:!1,isLogin:!!sessionStorage.mobile,list:[],setOne:{},userList:[],groupList:[]},e.columns=[{title:"\u90e8\u95e8",dataIndex:"branch",key:"branch",render:function(t,a){return r.a.createElement("span",null,e.state.groupList.filter((function(e){return e._id===a.branch}))[0]&&e.state.groupList.filter((function(e){return e._id===a.branch}))[0].group_name)}},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u6027\u522b",dataIndex:"sex",key:"sex"},{title:"\u804c\u4f4d",dataIndex:"post",key:"post"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",key:"mobile"},{title:"ID",dataIndex:"uid",key:"id"},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",render:function(t,a){return r.a.createElement("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return e.setState({visible:!0,setOne:a})}},"\u4fee\u6539")}}],e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getGroupList(),this.getData()}},{key:"render",value:function(){var e={labelCol:{span:6},wrapperCol:{span:14}},t=this.props.form.getFieldDecorator;return r.a.createElement("div",null,0==sessionStorage.usertype?r.a.createElement(w.a,{onClick:this.openCreateAccount,type:"primary"},"\u65b0\u589e\u5458\u5de5"):"",r.a.createElement(ee.a,{visible:this.state.visible,onCancel:this.closeCreateAccount,footer:null},r.a.createElement(oe,{setOne:this.state.setOne,close:this.closeCreateAccount,getAccountList:this.getAccountList})),r.a.createElement(ee.a,{visible:this.state.addVisible,onCancel:this.closeAddModal,footer:null},r.a.createElement(k.a,{onSubmit:this.handleSubmit},r.a.createElement(le,Object.assign({label:"\u90e8\u95e8"},e),t("groupSelect",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u90e8\u95e8\u8d1f\u8d23\u4eba"}]})(r.a.createElement(te.a,{placeholder:"\u8bf7\u9009\u62e9\u90e8\u95e8"},this.state.groupList.length>0?this.state.groupList.map((function(e,t){return r.a.createElement(te.a.Option,{key:t,value:e._id},e.group_name)})):null))),r.a.createElement(le,Object.assign({label:"\u59d3\u540d"},e),t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d"},{validator:this.name}]})(r.a.createElement(C.a,{style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(le,Object.assign({label:"\u6027\u522b"},e),t("sex",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6027\u522b"}]})(r.a.createElement(te.a,{placeholder:"\u8bf7\u9009\u62e9\u6027\u522b"},r.a.createElement(te.a.Option,{key:1,value:"man"},"man"),r.a.createElement(te.a.Option,{key:1,value:"women"},"women")))),r.a.createElement(le,Object.assign({label:"\u804c\u4f4d"},e),t("post",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u804c\u4f4d"},{validator:this.post}]})(r.a.createElement(C.a,{style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(le,Object.assign({label:"\u624b\u673a\u53f7"},e),t("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{validator:this.mobile}]})(r.a.createElement(C.a,{style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(le,{wrapperCol:{span:12,offset:6}},r.a.createElement(w.a,{type:"primary",htmlType:"submit"}," \u63d0\u4ea4")))),r.a.createElement(ae.a,{rowKey:"table",rowSelection:se,columns:this.columns,dataSource:this.state.list}))}}]),t}(n.Component))||A,ce=ie=k.a.create()(ie),ue=(a(547),{onChange:function(e,t){},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}}),me=(C.a.Search,function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getGroupList=function(){g.a.post("/getGroup").then((function(t){console.log(t),e.setState({groupList:t.data.result})}))},e.state={visible:!1,isLogin:!!sessionStorage.mobile,list:[],nameOrNum:null,groupList:[]},e.columns=[{title:"\u90e8\u95e8",dataIndex:"branch",key:"branch",render:function(t,a){return r.a.createElement("span",null,e.state.groupList.filter((function(e){return e._id===a.branch}))[0]&&e.state.groupList.filter((function(e){return e._id===a.branch}))[0].group_name)}},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u804c\u4f4d",dataIndex:"post",key:"post"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",key:"mobile"}],e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getGroupList(),g.a.post("/getOtherInfo",{mobile:sessionStorage.mobile}).then((function(t){console.log(t),e.setState({list:t.data.result})}))}}]),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae.a,{rowKey:"table",rowSelection:ue,columns:this.columns,dataSource:this.state.list}))}}]),t}(n.Component)),pe=(a(548),Object(h.b)()(_=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getData=function(){console.log("adsfdsg"),g.a.post("/getLowDate",{mobile:sessionStorage.mobile}).then((function(t){e.setState({list:t.data.result})}))},e.state={visible:!1,isLogin:!!sessionStorage.mobile,list:[],nameOrNum:null},e.columns=[{title:"\u7c7b\u578b",dataIndex:"types",key:"types"},{title:"\u65e5\u671f",dataIndex:"date",key:"date"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"name",key:"name"},{title:"\u65e5\u5fd7\u5185\u5bb9",dataIndex:"content",key:"content"},{title:"\u65b0\u589e\u65f6\u95f4",dataIndex:"time",key:"time"}],e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae.a,{rowKey:"table",columns:this.columns,dataSource:this.state.list}))}}]),t}(n.Component))||_),de=a(77),he=(a(549),a(669)),be=k.a.Item,fe=C.a.TextArea,ge=te.a.Option,ye=Object(h.b)()(F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t,a){e.setState({date:a})},e.handleChange=function(t){e.setState({value:t})},e.handleSubmit=function(t){var a=e.state.value,n=e.state.date;console.log(a,n),t.preventDefault(),e.props.form.validateFields((function(t,r){t||e.props.dispatch(function(e){var t,a,n;return I.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.url,a=e.params,r.next=3,I.a.awrap(g.a.post(t,a));case 3:return n=r.sent,r.abrupt("return",{type:"addMyDate",payload:n.data.result});case 5:case"end":return r.stop()}}))}({url:"/addDate",params:{types:a,content:r.content,date:n,mobile:sessionStorage.mobile}}))}))},e.closeCreateAccount=function(){e.setState({visible:!1})},e.state={date:null,value:null,visible:null},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return console.log(this.state),r.a.createElement(k.a,{onSubmit:this.handleSubmit,style:{width:700}},r.a.createElement(be,{label:"\u65e5\u62a5\u7c7b\u578b",labelCol:{span:6}},e("types",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65e5\u62a5\u7c7b\u578b"},{validator:this.branch}]})(r.a.createElement(te.a,{placeholder:"\u8bf7\u9009\u62e9\u65e5\u62a5\u7c7b\u578b",style:{width:200},onChange:this.handleChange},r.a.createElement(ge,{value:"\u65e5\u62a5"},"\u65e5\u62a5"),r.a.createElement(ge,{value:"\u5468\u62a5"},"\u5468\u62a5"),r.a.createElement(ge,{value:"\u6708\u62a5"},"\u6708\u62a5")))),r.a.createElement(be,{label:"\u65e5\u671f",labelCol:{span:6}},r.a.createElement(he.a,{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",onChange:this.onChange})),r.a.createElement(be,{label:"\u5185\u5bb9",labelCol:{span:6}},e("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"},{validator:this.name}]})(r.a.createElement(fe,{rows:6,style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(be,{wrapperCol:{span:12,offset:6}},r.a.createElement(w.a,{onClick:this.closeCreateAccount,type:"primary",htmlType:"submit"}," \u63d0\u4ea4")))}}]),t}(n.Component))||F,ve=ye=k.a.create()(ye),Ee=C.a.TextArea,Oe=k.a.Item,Se=Object(h.b)()(B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(a.props.dispatch(function(e){var t,a,n;return I.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.url,a=e.params,r.next=3,I.a.awrap(g.a.post(t,a));case 3:return n=r.sent,r.abrupt("return",{type:"updateMyDate",payload:n.data.result});case 5:case"end":return r.stop()}}))}({url:"/updateMyDate",params:{mobile:sessionStorage.mobile,content:t.content,time:t.time}})),a.props.close())}))},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.setOne;this.props.form.setFieldsValue({content:e.content,time:e.time})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(k.a,{onSubmit:this.handleSubmit,style:{width:700}},r.a.createElement(Oe,{label:"\u65f6\u95f4",labelCol:{span:6}},e("time",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"},{validator:this.time}]})(r.a.createElement(C.a,{disabled:!0,style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(Oe,{label:"\u5185\u5bb9",labelCol:{span:6}},e("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"},{validator:this.content}]})(r.a.createElement(Ee,{rows:6,style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(Oe,{wrapperCol:{span:12,offset:6}},r.a.createElement(w.a,{type:"primary",htmlType:"submit"}," \u63d0\u4ea4")))}}]),t}(n.Component))||B,je=Se=k.a.create()(Se),ke=C.a.Search,Ce={onChange:function(e,t){},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},we=Object(h.b)()(q=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).openCreateAccount=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({addvisible:!0})},e.closeCreateAccount=function(){e.setState({addvisible:!1})},e.closeAccount=function(){e.setState({visible:!1},e.getData())},e.getData=function(){g.a.post("/getMyDate",{mobile:sessionStorage.mobile,value:e.state.value}).then((function(t){e.setState({list:t.data.result,total:t.data.result.length-1})}))},e.onChange=function(t){e.setState({current:t})},e.handleSearch=function(t){console.log(t),e.setState({value:t}),e.getData()},e.state={visible:!1,addvisible:!1,isLogin:!!sessionStorage.mobile,list:[],setOne:{},value:"",pagination:{total:"",pageSize:5,current:1,defaultCurrent:1,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}}},e.columns=[{title:"\u7c7b\u578b",dataIndex:"types",key:"types"},{title:"\u65e5\u671f",dataIndex:"date",key:"date"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"name",key:"name"},{title:"\u65e5\u5fd7\u5185\u5bb9",dataIndex:"content",key:"content"},{title:"\u65b0\u589e\u65f6\u95f4",dataIndex:"time",key:"time"},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",render:function(t,a){return r.a.createElement("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return e.setState({visible:!0,setOne:a})}},"\u4fee\u6539")}}],e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(w.a,{onClick:this.openCreateAccount,type:"primary"},"\u65b0\u589e"),r.a.createElement(ee.a,Object(de.a)({visible:this.state.addvisible,onCancel:this.closeCreateAccount,footer:null},"footer",null),r.a.createElement(ve,{close:this.closeCreateAccount})),r.a.createElement(ke,{placeholder:"\u5185\u5bb9\u6216\u64cd\u4f5c\u4eba",onSearch:function(t){return e.handleSearch(t)},enterButton:!0,style:{width:350,float:"right"},onChange:function(t){return e.setState({value:t.target.value})},value:this.state.value}),r.a.createElement(ee.a,Object(de.a)({visible:this.state.visible,onCancel:this.closeAccount,footer:null},"footer",null),r.a.createElement(je,{setOne:this.state.setOne,close:this.closeAccount})),r.a.createElement(ae.a,{rowKey:"table",rowSelection:Ce,columns:this.columns,dataSource:this.state.list,pagination:this.state.pagination,onChange:this.onChange}))}}]),t}(n.Component))||q,xe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("span",{style:{textAlign:"center"}},"\u5f53\u524d\u6ca1\u6709")}}]),t}(n.Component),Ie=(C.a.TextArea,k.a.Item),De=Object(h.b)()(M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||g.a.post("/updateGroup",{group_name:t.group_name,group_man_name:a.state.userList.filter((function(e){return e.mobile==t.manSelect}))[0].name,group_man_mobile:t.manSelect,_id:a.props.setOne._id}).then((function(e){e.data;a.props.close()}))}))},a.getUserList=function(){g.a.post("/getOtherInfo",{mobile:sessionStorage.mobile}).then((function(e){a.setState({userList:e.data.result})}))},a.state={userList:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getUserList();var e=this.props.setOne;this.props.form.setFieldsValue({group_name:e.group_name,manSelect:e.group_man_name})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return r.a.createElement(k.a,{onSubmit:this.handleSubmit},r.a.createElement(Ie,Object.assign({label:"\u90e8\u95e8\u540d\u79f0"},t),e("group_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"}]})(r.a.createElement(C.a,{style:{width:200},type:"text",onBlur:this.handleConfirmBlur}))),r.a.createElement(Ie,Object.assign({label:"\u90e8\u95e8\u4e3b\u7ba1"},t),e("manSelect",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u90e8\u95e8\u8d1f\u8d23\u4eba"}]})(r.a.createElement(te.a,{placeholder:"\u8bf7\u9009\u62e9\u90e8\u95e8\u8d1f\u8d23\u4eba"},this.state.userList.length>0?this.state.userList.map((function(e,t){return r.a.createElement(te.a.Option,{key:t,value:e.mobile},e.name)})):null))),r.a.createElement(Ie,{wrapperCol:{span:12,offset:6}},r.a.createElement(w.a,{type:"primary",htmlType:"submit"}," \u63d0\u4ea4")))}}]),t}(n.Component))||M,Le=De=k.a.create()(De),Ae=(C.a.Search,k.a.Item),_e={onChange:function(e,t){},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},Fe=Object(h.b)()(N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).openCreateAccount=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({addvisible:!0})},e.closeCreateAccount=function(){e.setState({addvisible:!1})},e.closeAccount=function(){e.setState({visible:!1},e.getData())},e.getData=function(){g.a.post("/getGroup").then((function(t){e.setState({list:t.data.result,total:t.data.result.length-1})}))},e.getUserList=function(){g.a.post("/getOtherInfo",{mobile:sessionStorage.mobile}).then((function(t){e.setState({userList:t.data.result})}))},e.onChange=function(t){e.setState({current:t})},e.handleSearch=function(t){console.log(t),e.setState({value:t}),e.getData()},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){if(!t){e.state.userList.filter((function(e){return e.mobile==a.manSelect}));g.a.post("/addGroup",{group_name:a.groupName,group_man_name:e.state.userList.filter((function(e){return e.mobile==a.manSelect}))[0].name,group_man_mobile:a.manSelect}).then((function(t){200===t.data.code&&(e.closeCreateAccount(),e.getData())}))}}))},e.state={visible:!1,addvisible:!1,isLogin:!!sessionStorage.mobile,list:[],setOne:{},value:"",pagination:{total:"",pageSize:10,current:1,defaultCurrent:1,showTotal:function(e){return"\u603b\u5171 ".concat(e," \u6761")}},userList:[]},e.columns=[{title:"\u90e8\u95e8\u540d\u79f0",dataIndex:"group_name",key:"types"},{title:"\u90e8\u95e8\u4e3b\u7ba1",dataIndex:"group_man_name",key:"group_man_name"},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",render:function(t,a){return r.a.createElement("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return e.setState({visible:!0,setOne:a})}},"\u4fee\u6539")}}],e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.getUserList()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return r.a.createElement("div",null,r.a.createElement(w.a,{onClick:this.openCreateAccount,type:"primary"},"\u65b0\u589e"),r.a.createElement(ee.a,Object(de.a)({visible:this.state.addvisible,onCancel:this.closeCreateAccount,footer:null},"footer",null),r.a.createElement(k.a,{onSubmit:this.handleSubmit},r.a.createElement(Ae,Object.assign({label:"\u90e8\u95e8\u540d\u79f0"},t),e("groupName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90e8\u95e8\u540d\u79f0"},{validator:this.branch}]})(r.a.createElement(C.a,{style:{width:200},type:"text"}))),r.a.createElement(Ae,Object.assign({label:"\u90e8\u95e8\u4e3b\u7ba1"},t),e("manSelect",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u90e8\u95e8\u8d1f\u8d23\u4eba"}]})(r.a.createElement(te.a,{placeholder:"\u8bf7\u9009\u62e9\u90e8\u95e8\u8d1f\u8d23\u4eba"},this.state.userList.length>0?this.state.userList.map((function(e,t){return r.a.createElement(te.a.Option,{key:t,value:e.mobile},e.name)})):null))),r.a.createElement(Ae,{wrapperCol:{span:12,offset:6}},r.a.createElement(w.a,{type:"primary",htmlType:"submit"}," \u63d0\u4ea4")))),r.a.createElement(ee.a,Object(de.a)({visible:this.state.visible,onCancel:this.closeAccount,footer:null},"footer",null),r.a.createElement(Le,{setOne:this.state.setOne,close:this.closeAccount})),r.a.createElement(ae.a,{rowKey:"table",rowSelection:_e,columns:this.columns,dataSource:this.state.list,pagination:this.state.pagination,onChange:this.onChange}))}}]),t}(n.Component))||N,Be=Fe=k.a.create()(Fe),qe=a(35),Me=a.n(qe),Ne=(a(610),a(621),a(642),a(649),a(650),Object(h.b)()(T=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).myEchartsPie=function(){var t=Me.a.init(l.a.findDOMNode(e.refs.pie)),a={color:["#2dd4ff","#db4d4c"],textStyle:{color:"#000"},title:{text:"\u7537\u5973\u6bd4\u4f8b\u997c\u72b6\u56fe",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{left:"center",bottom:10,data:["Man","Women"],textStyle:{color:"#eee",fontSize:14},itemGap:50,itemHeight:14,itemWidth:14,formatter:"{name}"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{type:"pie",radius:["40%","65%"],center:["50%","40%"],labelLine:{show:!0,length2:30,length:0},label:{show:!0,fontSize:17},data:[{value:e.state.peopleList.man,name:"Man"},{value:e.state.peopleList.women,name:"Women"}]}]};t.setOption(a)},e.getData=function(){g.a.post("/echarts").then((function(t){e.setState({peopleList:{man:t.data.result.man,women:t.data.result.women}},(function(){e.myEchartsPie()}))}))},e.state={peopleList:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.myEchartsPie()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:600,height:600,margin:"50px auto 0"},ref:"pie"}))}}]),t}(n.Component))||T),Te=R.a.Header,Pe=R.a.Content,Je=R.a.Footer,Ue=R.a.Sider,Ge=$.a.SubMenu,Ve={"/home":"home","/home/info":"\u4e2a\u4eba\u4e2d\u5fc3","/home/addressList":"\u901a\u8baf\u5f55","/home/mydate":"\u6211\u7684\u65e5\u62a5","/home/subordinate":"\u4e0b\u5c5e\u65e5\u62a5","/home/group":"\u90e8\u95e8\u7ba1\u7406","/home/echarts":"Echarts"},ze=r.a.createElement($.a,null,r.a.createElement($.a.Item,{key:"out",onClick:function(){sessionStorage.clear(),window.location.href=window.location.origin}},"\u9000\u51fa")),Ke=Object(h.b)()(P=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={mobile:null},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.post("/getMobile").then((function(t){e.setState({mobile:t.data.result})}))}},{key:"render",value:function(){var e=this.state.mobile,t=this.props.location.pathname.split("/").filter((function(e){return e})),a=t.map((function(e,a){var n="/".concat(t.slice(0,a+1).join("/"));return r.a.createElement(W.a.Item,{key:n},r.a.createElement(p.b,{to:n},Ve[n]))})),n=[r.a.createElement(W.a.Item,{key:"home"},r.a.createElement(p.b,{to:"/home"}))].concat(a);return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(R.a,{style:{minHeight:"100VH"}},r.a.createElement(Ue,{width:"256px",style:{boxShadow:"2px 0 6px rgba(0,21,41,.35)",minHeight:"100vh"}},r.a.createElement("div",{style:{color:"#1890ff",height:"70px",fontSize:"20px",lineHeight:"50px",textAlign:"center"}}),r.a.createElement($.a,{theme:"dark",defaultSelectedKeys:["info"],defaultOpenKeys:["mine"],mode:"inline"},r.a.createElement(Ge,{key:"mine",title:r.a.createElement("span",null,r.a.createElement(Q.a,{type:"user"}),"\u4e2a\u4eba\u4e2d\u5fc3")},r.a.createElement($.a.Item,{key:"info"},r.a.createElement(p.c,{exact:!0,to:"/home/info"},"\u4e2a\u4eba\u8d44\u6599")),r.a.createElement($.a.Item,{key:"addressList"},r.a.createElement(p.c,{exact:!0,to:"/home/addressList"},"\u901a\u8baf\u5f55")),r.a.createElement($.a.Item,{key:"echarts"},r.a.createElement(p.c,{exact:!0,to:"/home/echarts"},"Echarts"))),r.a.createElement(Ge,{key:"workdate",title:r.a.createElement("span",null,r.a.createElement(Q.a,{type:"schedule"}),"\u5de5\u4f5c\u65e5\u62a5")},r.a.createElement($.a.Item,{key:"mydate"},r.a.createElement(p.c,{exact:!0,to:"/home/mydate"},"\u6211\u7684\u65e5\u62a5")),1==sessionStorage.usertype?r.a.createElement($.a.Item,{key:"subordinate"},r.a.createElement(p.c,{exact:!0,to:"/home/subordinate"},"\u6211\u7684\u4e0b\u5c5e\u65e5\u62a5")):""),r.a.createElement($.a.Item,{key:"group"},r.a.createElement(p.c,{exact:!0,to:"/home/group"},"\u90e8\u95e8\u7ba1\u7406")))),r.a.createElement(R.a,null,r.a.createElement(Te,{style:{height:54,background:"#fff",padding:0,boxShadow:"0 1px 4px rgba(0,21,41,.08)"}},r.a.createElement(X.a,{overlay:ze},r.a.createElement("div",{className:"ant-dropdown-link",style:{float:"right",marginRight:30,color:"#40a9ff",cursor:"pointer",fontSize:16}},e," ",r.a.createElement(Q.a,{type:"down",style:{fontSize:16}}))),r.a.createElement("div",{style:{height:54,display:"inline-block",float:"right",marginRight:30}},r.a.createElement(Y.a,{offset:[10,-10],count:2},r.a.createElement(Q.a,{type:"bell",style:{cursor:"pointer",fontSize:16}})))),r.a.createElement(Pe,{style:{margin:"0 16px"}},r.a.createElement(W.a,{style:{margin:"4px 0"}},n),r.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:"600px",position:"relative"}},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/home",component:ce}),r.a.createElement(d.b,{path:"/home/info",component:ce}),r.a.createElement(d.b,{path:"/home/addressList",component:me}),r.a.createElement(d.b,{path:"/home/mydate",component:we}),r.a.createElement(d.b,{path:"/home/subordinate",component:pe}),r.a.createElement(d.b,{path:"/home/group",component:Be}),r.a.createElement(d.b,{path:"/home/echarts",component:Ne}),r.a.createElement(d.b,{component:xe})))),r.a.createElement(Je,{style:{textAlign:"center"}},"\u7248\u6743")))))}}]),t}(n.Component))||P,He=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",component:U}),r.a.createElement(d.b,{path:"/signup",component:H}),r.a.createElement(d.b,{path:"/home",component:Ke}),r.a.createElement(d.b,{render:function(){return r.a.createElement(d.a,{to:"/login"})}})))}}]),t}(n.Component),Re=a(119),$e=a(320),We=a(321),Qe=a.n(We),Xe=a(322),Ye=a(62),Ze=Ye.default.fromJS({mobile:"",token:sessionStorage.token,list:[],usertype:2}),et=Object(Xe.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register":var a=Object(Z.a)({},e.toJS(),{},t.payload);return Ye.default.fromJS(a);case"login":var n=Object(Z.a)({},e.toJS(),{},t.payload);return Ye.default.fromJS(n);case"userInfo":var r=Object(Z.a)({},e.toJS(),{},t.payload);return Ye.default.fromJS(r);case"getUserInfo":var o=Object(Z.a)({},e.toJS(),{},t.payload);return Ye.default.fromJS(o);case"addMyDate":var l=Object(Z.a)({},e.toJS(),{},t.payload);return Ye.default.fromJS(l);case"updateMyDate":var s=Object(Z.a)({},e.toJS(),{},t.payload);return Ye.default.fromJS(s);default:return e}}}),tt=Object(Re.c)(et,Object(Re.a)($e.a,Qe.a)),at=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,{store:tt},r.a.createElement(p.a,{basename:""},r.a.createElement(d.b,{component:He}))))}}]),t}(n.Component);var nt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(at,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(664);l.a.render(r.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[327,1,2]]]);
//# sourceMappingURL=main.2007a188.chunk.js.map